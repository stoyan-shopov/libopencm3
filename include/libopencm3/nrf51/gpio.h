#ifndef LIBOPENCM3_NRF51_GPIO_H
#define LIBOPENCM3_NRF51_GPIO_H

/* NRF51 gpio register addresses */
enum
{
	GPIO_BASE_ADDRESS	= 0x50000000,
	GPIO_OUT_REG_OFFSET	= 0x504,
	GPIO_OUTSET_REG_OFFSET	= 0x508,
	GPIO_OUTCLR_REG_OFFSET	= 0x50c,
	GPIO_IN_REG_OFFSET	= 0x510,
	GPIO_DIR_REG_OFFSET	= 0x514,
	GPIO_DIRSET_REG_OFFSET	= 0x518,
	GPIO_DIRCLR_REG_OFFSET	= 0x51c,
	/* PIN_CNF below is an array, there are 32 registers,
	 * one for each pin */
	GPIO_PIN_CNF_REG_OFFSET	= 0x700,
	/* PIN_CNF bitfield offsets */
	GPIO_PIN_CNF_DIR_OFFSET		= 0,
	GPIO_PIN_CNF_INPUT_OFFSET	= 1,
	GPIO_PIN_CNF_PULL_OFFSET	= 2,
	GPIO_PIN_CNF_DRIVE_OFFSET	= 8,
	GPIO_PIN_CNF_SENSE_OFFSET	= 16,
};

#define GPIO_OUT	MMIO32(GPIO_BASE_ADDRESS + GPIO_OUT_REG_OFFSET)
#define GPIO_OUTSET	MMIO32(GPIO_BASE_ADDRESS + GPIO_OUTSET_REG_OFFSET)
#define GPIO_OUTCLR	MMIO32(GPIO_BASE_ADDRESS + GPIO_OUTCLR_REG_OFFSET)
#define GPIO_IN		MMIO32(GPIO_BASE_ADDRESS + GPIO_IN_REG_OFFSET)
#define GPIO_DIR	MMIO32(GPIO_BASE_ADDRESS + GPIO_DIR_REG_OFFSET)
#define GPIO_DIRSET	MMIO32(GPIO_BASE_ADDRESS + GPIO_DIRSET_REG_OFFSET)
#define GPIO_DIRCLR	MMIO32(GPIO_BASE_ADDRESS + GPIO_DIRCLR_REG_OFFSET)
#define GPIO_PIN_CNF	MMIO32(GPIO_BASE_ADDRESS + GPIO_PIN_CNF_REG_OFFSET)

/* gpio numbers */
enum
{
	GPIO0	=	1 << 0,
	GPIO1	=	1 << 1,
	GPIO2	=	1 << 2,
	GPIO3	=	1 << 3,
	GPIO4	=	1 << 4,
	GPIO5	=	1 << 5,
	GPIO6	=	1 << 6,
	GPIO7	=	1 << 7,
	GPIO8	=	1 << 8,
	GPIO9	=	1 << 9,
	GPIO10	=	1 << 10,
	GPIO11	=	1 << 11,
	GPIO12	=	1 << 12,
	GPIO13	=	1 << 13,
	GPIO14	=	1 << 14,
	GPIO15	=	1 << 15,
	GPIO16	=	1 << 16,
	GPIO17	=	1 << 17,
	GPIO18	=	1 << 18,
	GPIO19	=	1 << 19,
	GPIO20	=	1 << 20,
	GPIO21	=	1 << 21,
	GPIO22	=	1 << 22,
	GPIO23	=	1 << 23,
	GPIO24	=	1 << 24,
	GPIO25	=	1 << 25,
	GPIO26	=	1 << 26,
	GPIO27	=	1 << 27,
	GPIO28	=	1 << 28,
	GPIO29	=	1 << 29,
	GPIO30	=	1 << 30,
	GPIO31	=	1 << 31,
};

enum PIN_CNF_ENUM
{
	PIN_CNF_DIR_INPUT		= 0,
	PIN_CNF_DIR_OUTPUT		= 1,

	PIN_CNF_INPUT_CONNECT		= 0,
	PIN_CNF_INPUT_DISCONNECT	= 1,

	PIN_CNF_PULL_DISABLED		= 0,
	PIN_CNF_PULL_PULLDOWN		= 1,
	PIN_CNF_PULL_PULLUP		= 3,

	PIN_CNF_DRIVE_S0S1		= 0,
	PIN_CNF_DRIVE_H0S1		= 1,
	PIN_CNF_DRIVE_S0H1		= 2,
	PIN_CNF_DRIVE_H0H1		= 3,
	PIN_CNF_DRIVE_D0S1		= 4,
	PIN_CNF_DRIVE_D0H1		= 5,
	PIN_CNF_DRIVE_S0D1		= 6,
	PIN_CNF_DRIVE_H0D1		= 7,

	PIN_CNF_SENSE_DISABLED		= 0,
	PIN_CNF_SENSE_HIGH		= 1,
	PIN_CNF_SENSE_LOW		= 3,
};

#endif /* LIBOPENCM3_NRF51_GPIO_H */
